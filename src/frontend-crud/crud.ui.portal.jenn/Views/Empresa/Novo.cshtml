@model crud.ui.portal.jenn.Models.NovaEmpresaViewModel
 

<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
 
 
    

    <form asp-controller="Empresa" asp-action="Novo" method="post" class="form-horizontal">
        <fieldset>
            <div class="panel panel-primary">
                <div class="panel-heading">Cadastro de uma Nova Empresa/Filial</div>

                <div class="panel-body">
                    <div class="form-group">
                        <div class="col-md-11 control-label">
                            <p class="help-block"><h11>*</h11> Campo Obrigatório </p>
                        </div>
                    </div>
                    <!-- Multiple Radios (inline) -->

                    <div class="form-group">
                        <label class="col-md-2 control-label" for="encaminhamento">Empresa Matriz? <h11>*</h11></label>
                        <div class="col-md-4">
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <label class="radio-inline" for="radios-0">
                                        <input checked type="radio" name="enc" id="enc" value="sim" onclick="desabilita('sel_matriz')" required>
                                        Sim
                                    </label>
                                    <label class="radio-inline" for="radios-1">
                                        <input type="radio" name="enc" id="enc" value="nao" onclick="habilita('sel_matriz')">
                                        Não
                                    </label>
                                </span>
                                <select disabled id="sel_matriz" asp-for="MatrizID" asp-items="@ViewBag.EmpresaObjeto" style="width:300px;" class="form-control"></select>
                            </div>
                        </div>
                    </div>




                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-2 control-label" for="Nome">Nome <h11>*</h11></label>
                        <div class="col-md-8">
                            <input id="Nome" asp-for="Nome" name="Nome" placeholder="" class="form-control input-md" required="" type="text">
                            <span asp-validation-for="Nome" class="text-danger"></span>
                        </div>
                    </div>

                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-2 control-label" for="Nome">CNPJ <h11>*</h11></label>
                        <div class="col-md-3">
                            <input asp-for="cnpj" id="cnpj" name="cnpj" placeholder="Apenas números" class="form-control input-md" required="" type="text" maxlength="20" pattern="[0-9]+$">
                            <span asp-validation-for="cnpj" class="text-danger"></span>
                        </div>

                        <label class="col-md-2 control-label" for="Nome">Código Cnes <h11>*</h11></label>
                        <div class="col-md-3">
                            <input asp-for="codCnes" id="codCnes" name="codCnes" placeholder="Apenas números" class="form-control input-md" required="" type="text" maxlength="20" pattern="[0-9]+$">
                            <span asp-validation-for="codCnes" class="text-danger"></span>
                        </div>
                    </div>
                    <!-- Select Basic -->
                    <div class="form-group">
                        <label class="col-md-2 control-label" for="Classificacao">Classificação<h11>*</h11></label>
                        <div class="col-md-2">
                            <select required id="Classificacao" name="Classificacao" class="form-control">
                                <option value=""></option>
                                <option value="0">Gratuito</option>
                                <option value="Casado(a)">Casado(a)</option>
                                <option value="Divorciado(a)">Divorciado(a)</option>
                                <option value="Viuvo(a)">Viuvo(a)</option>
                            </select>
                        </div>
                        <label class="col-md-2 control-label" for="Estado Civil">Tipo Cliente<h11>*</h11></label>
                        <div class="col-md-2">
                            <select required id="Tipo Cliente" name="Tipo Cliente" class="form-control">
                                <option value=""></option>
                                <option value="0">Gratuita)</option>
                                <option value="1">Pago Não Confirmado</option>
                                <option value="2">Pago Confirmado</option>
                                <option value="3">Vip</option>
                            </select>
                        </div>

                    </div>



                    <!-- Prepended text-->
                    <div class="form-group">
                        <label class="col-md-2 control-label" for="prependedtext">Telefone <h11>*</h11></label>
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                                <input id="prependedtext" asp-for="Telefone1" name="Telefone1" class="form-control" placeholder="XX XXXXX-XXXX" required="" type="text" maxlength="13" pattern="\[0-9]{2}\ [0-9]{4,6}-[0-9]{3,4}$"
                                       OnKeyPress="formatar('## #####-####', this)">
                            </div>
                        </div>

                        <label class="col-md-1 control-label" for="prependedtext">Telefone</label>
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                                <input id="prependedtext" asp-for="Telefone2" name="Telefone2" class="form-control" placeholder="XX XXXXX-XXXX" type="text" maxlength="13" pattern="\[0-9]{2}\ [0-9]{4,6}-[0-9]{3,4}$"
                                       OnKeyPress="formatar('## #####-####', this)">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-2 control-label" for="prependedtext">Email <h11>*</h11></label>
                        <div class="col-md-5">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                                <input id="prependedtext" asp-for="Email" name="Email" class="form-control" placeholder="email@email.com" required="" type="text" />
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-2 control-label" for="prependedtext">Logotipo<h11>*</h11></label>
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon  glyphicon-envelope"></i></span>
                                <input id="prependedtext" asp-for="ImgemFrontEmpresa" name="ImgemFrontEmpresa" class="form-control" placeholder="Link do Logotipo" required="" type="url" />
                            </div>
                        </div>
                        <label class="col-md-2 control-label" for="prependedtext">Google Maps <h11>*</h11></label>
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                                <input id="prependedtext" asp-for="maps" name="maps" class="form-control" placeholder="Link Endereço Google Maps Empresa" required="" type="url" />
                            </div>
                        </div>
                    </div>



                    <div class="form-group">
                        <label class="col-md-2 control-label" for="prependedtext">Responsavel <h11>*</h11></label>
                        <div class="col-md-4">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                                <input id="prependedtext" asp-for="Responsavel" name="Responsavel" class="form-control" placeholder="Responsavel pela empresa" required="" type="text" />
                            </div>
                        </div>
                    </div>





                    <!-- Search input-->
                    <div class="form-group">
                        <label class="col-md-2 control-label" for="CEP">CEP <h11>*</h11></label>
                        <div class="col-md-2">
                            <input id="cep" name="cep" asp-for="cep" placeholder="Apenas números" class="form-control input-md" required="" value="" type="search" maxlength="8" pattern="[0-9]+$">
                        </div>
                        <div class="col-md-2">
                            <button type="button" class="btn btn-primary" onclick="pesquisacep(cep.value)">Pesquisar</button>
                        </div>
                    </div>



                    <!-- Prepended text-->
                    <div class="form-group">
                        <label class="col-md-2 control-label" for="prependedtext">Endereço</label>
                        <div class="col-md-4">
                            <div class="input-group">
                                <span class="input-group-addon">Rua</span>
                                <input id="rua" name="Logradouro" asp-for="Logradouro" class="form-control" placeholder="" required="" readonly="readonly" type="text">
                            </div>

                        </div>
                        <div class="col-md-2">
                            <div class="input-group">
                                <span class="input-group-addon">Nº <h11>*</h11></span>
                                <input id="numero" name="numero" asp-for="numero" class="form-control" placeholder="" required="" type="text">
                            </div>

                        </div>

                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon">Bairro</span>
                                <input id="bairro" asp-for="bairro" name="bairro" class="form-control" placeholder="" required="" readonly="readonly" type="text">
                            </div>

                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-2 control-label" for="prependedtext"></label>
                        <div class="col-md-4">
                            <div class="input-group">
                                <span class="input-group-addon">Cidade</span>
                                <input id="Cidade.Nome" asp-for="Cidade.Nome" name="Cidade.Nome" class="form-control" placeholder="" required="" readonly="readonly" type="text">
                            </div>

                        </div>

                        <div class="col-md-2">
                            <div class="input-group">
                                <span class="input-group-addon">Estado</span>
                                <input id="Nome" asp-for="Cidade.Ufs.FirstOrDefault().Nome" name="Nome" class="form-control" placeholder="" required="" readonly="readonly" type="text">
                            </div>

                        </div>
                    </div>


                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label" for="Cadastrar"></label>
                    <div class="col-md-8">
                        <button id="Cadastrar" name="Cadastrar" class="btn btn-success" type="Submit">Cadastrar</button>
                        <button id="Cancelar" name="Cancelar" class="btn btn-danger" type="Reset">Cancelar</button>
                    </div>
                </div>

            </div>
        </fieldset>
    </form>

 <script>
     $(document).ready(function () {
        
     });
     function limpa_formulario_cep() {
         //Limpa valores do formulário de cep.
         document.getElementById('rua').value = ("");
         document.getElementById('bairro').value = ("");
         document.getElementById('cidade').value = ("");
         document.getElementById('estado').value = ("");

     }

     function meu_callback(conteudo) {
         if (!("erro" in conteudo)) {
             //Atualiza os campos com os valores.
             document.getElementById('rua').value = (conteudo.logradouro);
             document.getElementById('bairro').value = (conteudo.bairro);
             document.getElementById('cidade').value = (conteudo.localidade);
             document.getElementById('estado').value = (conteudo.uf);
         } //end if.
         else {
             //CEP não Encontrado.
             limpa_formulario_cep();
             alert("CEP não encontrado.");
             document.getElementById('cep').value = ("");
         }
     }

     function pesquisacep(valor) {

         //Nova variável "cep" somente com dígitos.
         var cep = valor.replace(/\D/g, '');

         //Verifica se campo cep possui valor informado.
         if (cep !== "") {

             //Expressão regular para validar o CEP.
             var validacep = /^[0-9]{8}$/;

             //Valida o formato do CEP.
             if (validacep.test(cep)) {

                 //Preenche os campos com "..." enquanto consulta webservice.
                 document.getElementById('rua').value = "...";
                 document.getElementById('bairro').value = "...";
                 document.getElementById('cidade').value = "...";
                 document.getElementById('estado').value = "...";

                 //Cria um elemento javascript.
                 var script = document.createElement('script');

                 //Sincroniza com o callback.
                 script.src = '//viacep.com.br/ws/' + cep + '/json/?callback=meu_callback';

                 //Insere script no documento e carrega o conteúdo.
                 document.body.appendChild(script);

             } //end if.
             else {
                 //cep é inválido.
                 limpa_formulario_cep();
                 alert("Formato de CEP inválido.");
             }
         } //end if.
         else {
             //cep sem valor, limpa formulário.
             limpa_formulario_cep();
         }
     }

     function formatar(mascara, documento) {
         var i = documento.value.length;
         var saida = mascara.substring(0, 1);
         var texto = mascara.substring(i);

         if (texto.substring(0, 1) != saida) {
             documento.value += texto.substring(0, 1);
         }

     }



     function exibe(i) {
         document.getElementById(i).readOnly = true;
     }

     function desabilita(i) {

         document.getElementById(i).options.length = 0;
         document.getElementById(i).disabled = true;
     }
     function habilita(i) {
         document.getElementById(i).disabled = false;
     }


     function showhide() {
         var div = document.getElementById("newpost");

         if (idade() >= 18) {

             div.style.display = "none";
         }
         else if (idade() < 18) {
             div.style.display = "inline";
         }

     }





 </script>

 

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
